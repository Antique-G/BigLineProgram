<div fxLayoutWrap="wrap">
    <div fxLayout="row" fxLayoutAlign="space-between center">
        <div>
            <span style="margin-right: 10px;">添加区域</span>
            <span *ngIf='isGrade!=0'>上级区域-{{this.isGradeName}}</span>
        </div>
        <div style="font-size: 18px;cursor: pointer;" (click)="close()">X</div>
    </div>
    <div style="padding: 5px;margin-top: 10px;">
        <form nz-form [formGroup]="addForm">
            <nz-form-item>
                <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="regionName" nzRequired>区域名称 </nz-form-label>
                <nz-form-control [nzSm]="14" [nzXs]="24" nzErrorTip="请输入区域名称 ！">
                    <input nz-input formControlName="regionName" />
                </nz-form-control>
            </nz-form-item>

            <nz-form-item>
                <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="regionDesc">区域描述</nz-form-label>
                <nz-form-control [nzSm]="14" [nzXs]="24">
                    <input nz-input formControlName="regionDesc" />
                </nz-form-control>
            </nz-form-item>
            <nz-form-item>
                <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="areaCode">地区编码</nz-form-label>
                <nz-form-control [nzSm]="14" [nzXs]="24">
                    <input nz-input formControlName="areaCode" />
                </nz-form-control>
            </nz-form-item>

            <nz-form-item>
                <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="status">状态</nz-form-label>
                <nz-form-control [nzSm]="14" [nzXs]="24">
                    <nz-radio-group [(ngModel)]="statusValue" formControlName="status">
                        <label nz-radio nzValue=0>暂停 </label>
                        <label nz-radio nzValue=1>正常</label>
                    </nz-radio-group>
                </nz-form-control>
            </nz-form-item>

            <nz-form-item>
                <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="sort">排序</nz-form-label>
                <nz-form-control [nzSm]="14" [nzXs]="24">
                    <input nz-input formControlName="sort" />
                </nz-form-control>
            </nz-form-item>


            <nz-form-item>
                <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="parentCode">图片地址</nz-form-label>
                <!-- nzAction:上传地址      nzListType：上传列表的内建样式    nzName ：发到后台的文件参数名
                nzBeforeUpload：上传文件之前的钩子，参数为上传的文件，若返回 false 则停止上传。
                -->
                <!-- [(nzFileList)]="fileList" 
                [nzShowButton]="fileList.length < 3"   -->
                <nz-form-control [nzSm]="14" [nzXs]="24">
                    <nz-upload class="avatar-uploader" 
                     nzName="image"
                     [nzAction] 
                     nzListType="picture-card"
                     [nzBeforeUpload]="beforeUpload" 
                     [nzPreview]="handlePreview"  
                     (nzChange)="handleChange($event)">
                        <ng-container *ngIf="!avatarUrl">
                            <i class="upload-icon" nz-icon></i>
                            <div class="ant-upload-text">Upload</div>
                        </ng-container>
                    </nz-upload>
                    <nz-modal 
                    [nzVisible]="previewVisible" 
                    [nzContent]="modalContent" 
                    [nzFooter]="null" 
                    (nzOnCancel)="previewVisible=false">
                        <ng-template #modalContent>
                          <!-- <img [src]="previewImage" [ngStyle]="{ 'width': '100%' }" /> -->
                          <img *ngIf="avatarUrl" [src]="avatarUrl" style="width: 100%" />
                        </ng-template>
                      </nz-modal>
                </nz-form-control>
            </nz-form-item>


            <nz-form-item nz-row class="register-area">
                <nz-form-control [nzSpan]="14" [nzOffset]="11">
                    <button nz-button nzType="primary" (click)="add()">添加</button>
                </nz-form-control>
            </nz-form-item>
        </form>

    </div>
</div>