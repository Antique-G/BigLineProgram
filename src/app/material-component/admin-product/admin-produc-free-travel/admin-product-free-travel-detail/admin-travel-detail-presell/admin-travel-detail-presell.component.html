<div fxLayoutWrap="wrap">
    <div fxFlex.gt-sm="100%" fxFlex="100">
        <div fxLayout="column" fxLayoutAlign="start stretch" fxLayoutGap="10px">
            <mat-card>
                <div class="example-container">
                    <div fxLayout="column" fxLayoutAlign="start stretch">
                        <h4 style="padding-left: 10px;padding-top: 10px;">预售信息</h4>
                        <nz-divider></nz-divider>
                        <div style="padding:10px 80px">
                            <form nz-form [formGroup]="addForm" nz-row>

                                <nz-form-item nz-col [nzSm]="24" [nzXs]="24">
                                    <div nz-row>
                                        <nz-form-label [nzSm]="3" [nzXs]="24" nzFor="is_presell" nzRequired>
                                            是否开启预售</nz-form-label>
                                        <nz-form-control [nzSm]="16" [nzXs]="24" nzErrorTip="请选择">
                                            <nz-radio-group formControlName="is_presell" (ngModelChange)="changePresell($event)" ngModel={{dataFreeDetailModel?.is_presell}}>
                                                <label nz-radio nzValue='0'>否 </label>
                                                <label nz-radio nzValue='1' [nzDisabled]="dataFreeDetailModel?.quote_type!=1">是</label>
                                            </nz-radio-group>
                                        </nz-form-control>
                                    </div>
                                </nz-form-item>

                                <ng-container *ngIf="isShow">
                                    <nz-form-item nz-col [nzSm]="12" [nzXs]="24">
                                        <div nz-row>
                                            <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="dateValid" nzRequired>
                                                预售有效日期范围</nz-form-label>
                                            <nz-form-control [nzSm]="8" [nzXs]="24" nzErrorTip="请选择">
                                                <nz-range-picker nzFormat="yyyy-MM-dd" (ngModelChange)="onChangeDate($event)" formControlName="dateValid"></nz-range-picker>
                                            </nz-form-control>
                                        </div>
                                    </nz-form-item>

                                    <nz-form-item nz-col [nzSm]="12" [nzXs]="24">
                                        <div nz-row>
                                            <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="useDateValid" nzRequired>
                                                使用有效日期范围</nz-form-label>
                                            <nz-form-control [nzSm]="8" [nzXs]="24" nzErrorTip="请选择">
                                                <nz-range-picker nzFormat="yyyy-MM-dd" (ngModelChange)="onChangeUseDate($event)" formControlName="useDateValid"></nz-range-picker>
                                            </nz-form-control>
                                        </div>
                                    </nz-form-item>

                                    <nz-form-item nz-col [nzSm]="12" [nzXs]="24">
                                        <div nz-row>
                                            <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="ticket_price" nzRequired>预售价格
                                            </nz-form-label>
                                            <nz-form-control [nzSm]="8" [nzXs]="24" nzErrorTip="请输入预售价格">
                                                <nz-input-number style="width:100%;" formControlName="ticket_price" [nzMin]="0"></nz-input-number>
                                            </nz-form-control>
                                        </div>
                                    </nz-form-item>

                                    <nz-form-item nz-col [nzSm]="12" [nzXs]="24">
                                        <div nz-row>
                                            <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="subsidy_price" nzRequired>补贴金额
                                            </nz-form-label>
                                            <nz-form-control [nzSm]="8" [nzXs]="24" nzErrorTip="请输入补贴金额">
                                                <nz-input-number style="width:100%;" formControlName="subsidy_price" [nzMin]="0"></nz-input-number>
                                            </nz-form-control>
                                        </div>
                                    </nz-form-item>


                                    <nz-form-item nz-col [nzSm]="12" [nzXs]="24">
                                        <div nz-row>
                                            <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="inventory" nzRequired>预售库存
                                            </nz-form-label>
                                            <nz-form-control [nzSm]="8" [nzXs]="24" nzErrorTip="请输入预售库存">
                                                <nz-input-number style="width:100%;" formControlName="inventory" [nzMin]="0"></nz-input-number>
                                            </nz-form-control>
                                        </div>
                                    </nz-form-item>

                                    <nz-form-item nz-col [nzSm]="24" [nzXs]="24">
                                        <div nz-row>
                                            <nz-form-label [nzSm]="3" [nzXs]="24" nzFor="ticket_rules" nzRequired>预约规则
                                            </nz-form-label>
                                            <nz-form-control [nzSm]="16" [nzXs]="24" nzErrorTip="预约规则">
                                                <textarea nz-input formControlName="ticket_rules" [nzAutosize]="{ minRows: 5, maxRows: 7 }"></textarea>
                                            </nz-form-control>
                                        </div>
                                    </nz-form-item>
                                </ng-container>
                            </form>
                        </div>

                    </div>

                </div>
            </mat-card>


        </div>
        <div class="btn">
            <button nz-button nzType="primary" [nzLoading]="isLoadingBtn" (click)="nextTab()">更新</button>
        </div>
    </div>
</div>