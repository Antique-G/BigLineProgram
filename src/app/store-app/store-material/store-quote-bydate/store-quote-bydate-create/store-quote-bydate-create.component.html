<div fxLayoutWrap="wrap">
    <div fxLayoutAlign="end start" >
        <div style="font-size: 18px;cursor: pointer;" (click)="close()">X</div>
    </div>
    <div style="padding: 0px; margin-top: 20px;">
        <form nz-form [formGroup]="addForm" nz-row>
            <nz-form-item class="nz-form-item" nz-col [nzSm]="12" [nzXs]="24">
                <!-- <ng-container *ngIf="currentDate==''; else elseTemplate">
                    <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="date" nzRequired>日期范围</nz-form-label>
                    <nz-form-control [nzSm]="16" [nzXs]="24" nzErrorTip="请选择日期范围!">
                        <nz-range-picker [(ngModel)]="selectDate" formControlName="date" (ngModelChange)="onDateChange($event)"></nz-range-picker>
                    </nz-form-control>
                </ng-container>
                <ng-template #elseTemplate>
                    <nz-form-label [nzSm]="8" [nzXs]="24" nzFor="date" nzRequired>当前日期</nz-form-label>
                    <nz-form-control [nzSm]="16" [nzXs]="24" nzErrorTip="请选择当前日期!">
                        <input nz-input [ngModel]="currentDate|date:'yyyy-MM-dd'"  formControlName="date" readonly [nzBorderless]="true"/>
                    </nz-form-control>
                </ng-template> -->
                <nz-form-label [nzSm]="8" [nzXs]="24" nzFor="date" nzRequired>日期范围</nz-form-label>
                <nz-form-control [nzSm]="16" [nzXs]="24" nzErrorTip="请输入日期范围">
                    <nz-range-picker [nzDisabledDate]="disabledDate" nzFormat="yyyy-MM-dd" [(ngModel)]="selectDate" formControlName="date" (ngModelChange)="onDateChange($event)"></nz-range-picker>
                </nz-form-control>
            </nz-form-item>



            <nz-form-item class="nz-form-item" nz-col [nzSm]="12" [nzXs]="24">
                <nz-form-label [nzSm]="8" [nzXs]="24" nzFor="adult_price">成人价格</nz-form-label>
                <nz-form-control [nzSm]="16" [nzXs]="24" [nzErrorTip]="formErrors.adult_price">
                    <input nz-input formControlName="adult_price" />
                </nz-form-control>
            </nz-form-item>

            <nz-form-item class="nz-form-item" nz-col [nzSm]="12" [nzXs]="24">
                <nz-form-label [nzSm]="8" [nzXs]="24" nzFor="child_price">儿童价格</nz-form-label>
                <nz-form-control [nzSm]="16" [nzXs]="24" [nzErrorTip]="formErrors.child_price">
                    <input nz-input formControlName="child_price" />
                </nz-form-control>
            </nz-form-item>

            <ng-container *ngIf="type=='management'">
                <nz-form-item class="nz-form-item" nz-col [nzSm]="12" [nzXs]="24">
                    <nz-form-label [nzSm]="8" [nzXs]="24" nzFor="original_adult_price">成人原价</nz-form-label>
                    <nz-form-control [nzSm]="16" [nzXs]="24" [nzErrorTip]="formErrors.original_adult_price">
                        <input nz-input formControlName="original_adult_price" />
                    </nz-form-control>
                </nz-form-item>
    
                <nz-form-item class="nz-form-item" nz-col [nzSm]="12" [nzXs]="24">
                    <nz-form-label [nzSm]="8" [nzXs]="24" nzFor="original_child_price">儿童原价</nz-form-label>
                    <nz-form-control [nzSm]="16" [nzXs]="24" [nzErrorTip]="formErrors.original_child_price">
                        <input nz-input formControlName="original_child_price" />
                    </nz-form-control>
                </nz-form-item>
            </ng-container>
           

            <nz-form-item class="nz-form-item" nz-col [nzSm]="12" [nzXs]="24">
                <nz-form-label [nzSm]="8" [nzXs]="24" nzFor="difference_price">补 差 价</nz-form-label>
                <nz-form-control [nzSm]="16" [nzXs]="24" [nzErrorTip]="formErrors.difference_price">
                    <input nz-input formControlName="difference_price" />
                </nz-form-control>
            </nz-form-item>

            <ng-container *ngIf="type=='freeTravel'">
                <nz-form-item  class="nz-form-item" nz-col [nzSm]="12" [nzXs]="24">
                    <nz-form-label [nzSm]="8" [nzXs]="24" nzFor="inventory_num" nzRequired>库存数量</nz-form-label>
                    <nz-form-control [nzSm]="16" [nzXs]="24" [nzErrorTip]="formErrors.difference_price">
                        <input nz-input formControlName="inventory_num" />
                    </nz-form-control>
                </nz-form-item>
    
                <nz-form-item  class="nz-form-item" nz-col [nzSm]="12" [nzXs]="24">
                    <nz-form-label [nzSm]="8" [nzXs]="24" nzFor="set_inventory" nzRequired>设置库存</nz-form-label>
                    <nz-form-control [nzSm]="16" [nzXs]="24" [nzErrorTip]="formErrors.set_inventory">
                        <nz-radio-group class="nz-form-item" ngModel={{freeTravelModel?.set_inventory}} formControlName="set_inventory">
                            <label nz-radio nzValue='0'>否 </label>
                            <label nz-radio nzValue='1'>是</label>
                        </nz-radio-group>
                    </nz-form-control> 
                </nz-form-item>
                
                <nz-form-item  class="nz-form-item" nz-col [nzSm]="12" [nzXs]="24">
                    <nz-form-label [nzSm]="8" [nzXs]="24" nzFor="allow_over" nzRequired>设置超卖 </nz-form-label>
                    <nz-form-control [nzSm]="16" [nzXs]="24" [nzErrorTip]="formErrors.allow_over">
                        <nz-radio-group class="nz-form-item" ngModel={{freeTravelModel?.allow_over}} formControlName="allow_over">
                            <label nz-radio nzValue='0'>否 </label>
                            <label nz-radio nzValue='1'>是</label>
                        </nz-radio-group>
                    </nz-form-control>
                </nz-form-item>
            </ng-container>

            <nz-form-item nz-col class="register-area" [nzSm]="24" [nzXs]="24">
                <ng-container *ngIf="selectDate==''; else elseType">
                    <nz-form-control [nzSpan]="14" [nzOffset]="12">
                        <button nz-button nzType="primary" (click)="add()">提交</button>
                    </nz-form-control>
                </ng-container>
                <ng-template #elseType>
                    <nz-form-control [nzSpan]="14" [nzOffset]="8">
                        <button nz-button nzType="primary" nzDanger (click)="deleteInfo()">删除</button>

                        <button nz-button nzType="primary" style="margin-left: 20px;" (click)="add()">更新</button>
                    </nz-form-control>
                </ng-template>
            </nz-form-item>
        </form>
    </div>
</div>